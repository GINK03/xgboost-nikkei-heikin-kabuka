

ｉＰｈｏｎｅアプリ、審査なし配布が問題に


2014年12月16日 10時08分















「ｉＰｈｏｎｅ／ｉＰａｄでのセキュリティリスク：『Ａｐｐ　Ｓｔｏｒｅ』以外からのアプリインストール：トレンドマイクロセキュリティブログ」




        AD2.init(ads.p_rectangle);
        

        AD2.cAds();
        

AD2.dBanner(0,'prect');




　今まで比較的安全と思われていたｉＰｈｏｎｅ・ｉＰａｄに、トラブルの元となりそうな穴がみつかっている。アップル側の審査なしでアプリが配布できてしまう問題で、不正アプリに使われる可能性がある。（ＩＴジャーナリスト・三上洋）

安全なはずのｉＯＳでアプリが審査なしで配布されている


　セキュリティー大手・トレンドマイクロが、自社のブログでショッキングなリポート記事を出している。「ｉＰｈｏｎｅ／ｉＰａｄでのセキュリティリスク：『Ａｐｐ　Ｓｔｏｒｅ』以外からのアプリインストール：トレンドマイクロセキュリティブログ」という記事内で、ｉＰｈｏｎｅやｉＰａｄで、公式アプリ配布ストア以外からアプリを配布できてしまうという問題だ。要旨をまとめておく。

★「ｉＰｈｏｎｅ／ｉＰａｄでのセキュリティリスク：『Ａｐｐ　Ｓｔｏｒｅ』以外からのアプリインストール：トレンドマイクロセキュリティブログ」要旨

　・開発者がアプリをテストする、もしくは企業内でアプリを配布する場合に使う「プロビジョニングプロファイル」を利用

　・公式アプリ配布サイトであるＡｐｐ　Ｓｔｏｒｅを経由しないため、Ａｐｐｌｅ側の審査がない

　・不正アプリに利用されたほか、削除されたアプリの運営側がこれを利用して配布する例も

　今までｉＰｈｏｎｅ・ｉＰａｄなどのｉＯＳは、Ａｎｄｒｏｉｄに比べて安全性が高かった。ｉＯＳのアプリはすべてＡｐｐｌｅが審査を行い、不正なものは登録されなかったからだ。ｉＯＳでは公式アプリ配布サイトであるＡｐｐ　Ｓｔｏｒｅ以外からのアプリダウンロードが出来ないので、不正アプリが入り込む余地は非常に小さかった。
　しかし、この「プロビジョニングプロファイル」によって、Ａｐｐｌｅ側の審査なしで、Ａｐｐ　Ｓｔｏｒｅ以外からアプリを配布できてしまうしくみがみつかっている。「プロビジョニングプロファイル」は開発者用に用意されているもので、テストや社内限定配布などに使われているものだが、ウェブサイト経由でも配布できてしまう模様だ。これを利用すれば、Ａｎｄｒｏｉｄと同様に不正アプリが大量に出回る可能性がある。

日本でも削除されたアプリがＡｐｐ　Ｓｔｏｒｅ以外から配布されている


　「プロビジョニングプロファイル」を使った配布は、すでに国内でも行われている。トレンドマイクロがブログで紹介している音楽系アプリがそれで、筆者もＡｐｐ　Ｓｔｏｒｅ以外からダウンロードできるのか実際に試してみた。





問題の音楽アプリの運営サイト。Ａｐｐ　Ｓｔｏｒｅからのダウンロードアイコンがあるが、実際にはＡｐｐ　Ｓｔｏｒｅではない





Ａｐｐ　Ｓｔｏｒｅからのダウンロードボタンを押すと、この表示になる。Ａｐｐ　Ｓｔｏｒｅではなく自主サイトからのダウンロードだ


　この音楽系アプリを仮に「Ｌ」と呼ぶことにする。「Ｌ」はとても人気のあったアプリで、Ａｐｐ　Ｓｔｏｒｅで無料ランキング１位になったこともある。ランキングの曲を聴き放題と称して配布されていたもので、ユーザーがとても多かった人気アプリだ。
　しかし「Ｌ」は著作権の問題をクリアしているとは思えず、グレーなアプリとも考えられた。それが原因かはわからないが、Ａｐｐｌｅ側ではこのアプリを２０１４年５月に削除した。ところが「Ｌ」の運営元は、２０１４年７月から自社サイトでの配布をスタートさせた。
　「Ｌ」のサイトへ行くと、「Ａｐｐ　Ｓｔｏｒｅからダウンロード」というアイコンがあり、クリックするとポップアップウィンドーが開く。「＊＊＊．ａｍａｚｏｎａｗｓ．ｃｏｍにより●●●がインストールされます」という表示だ。
　つまりＡｐｐ　Ｓｔｏｒｅからのダウンロードに見せかけているが、実際は自社が用意したサイトからの入手なのだ。ダウンロード先はＡｍａｚｏｎのクラウドサービスＡＷＳで、いわゆるコンテンツデリバリーネットワーク＝ＣＤＮを使って自主的に配布していることになる。
　そしてダウンロードしたアプリを開こうとすると、もう一度ポップアップウィンドーが開く。「開発元●●●社の●●●を開いてもよろしいですか？」というもので、「プロビジョニングプロファイル」が開発者向けに出す表示だ。「続ける」をクリックするとアプリが起動した。動作も問題なく、曲も聴けてしまうようだ。
　Ａｐｐ　Ｓｔｏｒｅを使わず、ｉＰｈｏｎｅでアプリがダウンロードできてしまったのだ。このアプリについてトレンドマイクロは「この音楽アプリでは、情報窃取や破壊活動のような不正活動は認められない。ただしＡｐｐ　Ｓｔｏｒｅ以外のサイトからアプリをインストールさせる手法は、悪意の攻撃者も利用が可能であろうと思われる」とコメントしている。





ダウンロードしたアプリを起動した時の表示。開発者向け機能を利用している





実際にアプリは問題なく動作しており、音楽も聴けるようだ



開発者向けプロファイルを悪用したもの？


　問題の「プロビジョニングプロファイル」は、本来はＡｐｐｌｅへのＤｅｖｅｌｏｐｅｒ　Ｐｒｏｇｒａｍメンバーシップ（開発者登録）がある管理者しか作成できない。上記の「Ｌ」というアプリについては、以前のＡｐｐ　Ｓｔｏｒｅで配布していたため開発者登録があって、それを利用した可能性がある。
　ただし悪用される場合もあるようだ。トレンドマイクロのブログ記事「ＭａｃからｉＰｈｏｎｅ／ｉＰａｄをも狙う「ＷｉｒｅＬｕｒｋｅｒ」、その危険性と行うべき対策は？：トレンドマイクロセキュリティブログ」で、このしくみを悪用した「ＷｉｒｅＬｕｒｋｅｒ（ワイヤーラーカー）」という不正アプリについて取り上げている。
　それによるとトロイの木馬化した「ＷｉｒｅＬｕｒｋｅｒ」が、開発者の配布証明書の照合システムを悪用して、ｉＯＳ端末にインストールされてしまうとのことだ。セキュリティー関係者の会合では、このしくみを悪用してｉＯＳ上でバックドア（裏口）を忍ばせる実演が行われている。また別の不正アプリ「Ｍａｓｑｕｅ　Ａｔｔａｃｋ」では、コード署名の不備を利用し、すでに端末上にあるアプリを置き換えてしまう攻撃も行われていた。
　このようにプロビジョニングプロファイルのしくみを悪用し、不正なｉＯＳアプリが、ＡｐｐＳｔｏｒｅで削除されたアプリが配布されている。「ｉＯＳなら安全」という常識は通用しなくなる可能性が高い。

ｉＰｈｏｎｅ・ｉＰａｄを使う場合の注意点


　今回の問題は、今すぐ攻撃に遭ったり、トラブルの被害を受けたりするものではない。しかしながらｉＯＳでも、アプリの無断配布ができてしまう、という点を頭に入れておくべきだ。ｉＰｈｏｎｅ・ｉＰａｄであっても、Ａｎｄｒｏｉｄと同様に不正アプリが出回る可能性があるので、以下の注意点を守ってほしい。トレンドマイクロがまとめた注意点に筆者が注釈を加える。

★ｉＰｈｏｎｅ・ｉＰａｄ利用での注意点

●ｉＯＳのバージョンを最新に保つ
　→安全に使うために、ＯＳをできるだけ最新バージョンにすること

●Ａｐｐ　Ｓｔｏｒｅ以外からアプリを入手しない
　→サイト上のＵＲＬをクリックするのではなく、Ａｐｐ　Ｓｔｏｒｅを自分で開き、アプリ名を検索するなどしてダウンロードすること

●Ａｐｐ　Ｓｔｏｒｅからのアプリ入手の場合も、アプリに対するレビューの数やその内容、アプリの開発者情報などを確認し、不審な点がある場合にはインストールしない
　→ごくまれにＡｐｐ　Ｓｔｏｒｅでも審査ミスで、不正なアプリが配布されることがある。そのためにレビューにはよく注意する

●ｉＯＳ端末をＪａｉｌｂｒｅａｋ（脱獄）しない
　→Ａｐｐｌｅ側の制限を解除する改造であるＪａｉｌｂｒｅａｋ（脱獄）をしないこと。不正アプリの被害に遭いやすくなるからだ。

　ｉＰｈｏｎｅ・ｉＰａｄは安全という神話に頼らず、アプリダウンロードには警戒しよう。自分だけでなく、家族にも声をかけてほしい。

2014年12月16日 10時08分
Copyright © The Yomiuri Shimbun



